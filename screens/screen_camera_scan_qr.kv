#:import ZBarSymbol pyzbar.pyzbar.ZBarSymbol

<CameraScanQRScreen>:

    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 5

        Label:
            size_hint: None, None
            size: self.texture_size[0], 40
            pos_hint: {'center_x': 0.5}
            text: 'Place area with the QR code in front of your camera'

        ZBarCam:
            id: zbarcam
            code_types: ZBarSymbol.QRCODE, ZBarSymbol.EAN13

        ScannedQRTextLabel:
            size_hint: None, None
            size: self.texture_size[0], 50
            text: ', '.join([symbol.data.decode('utf-8') for symbol in zbarcam.symbols])

        RoundedButton:
            size_hint_x: None
            width: self.texture_size[0]
            pos_hint: {'center_x': 0.5, 'top': 0}
            text: ' cancel '
            on_release: root.on_cancel_button_clicked()
